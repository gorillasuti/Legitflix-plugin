async function mn(j={}){var cr,f=j,vr=(...r)=>console.log(...r),F=(...r)=>console.error(...r);function je(){Ur?.(f),p&&Or()}var Fr=!!globalThis.WorkerGlobalScope,p=Fr&&self.name?.startsWith("em-pthread");const Mr=!!WebAssembly.Memory.prototype.toResizableBuffer;if(Z=()=>{if(!(Mr&&self.HEAPU8RAW)){var r=Mr?k.toResizableBuffer():k.buffer;E=new Int8Array(r),B=new Int16Array(r),w=new Uint8Array(r),L=new Uint16Array(r),R=new Int32Array(r),y=new Uint32Array(r),_r=new Float32Array(r),z=new Float64Array(r),S=new BigInt64Array(r),pr=new BigUint64Array(r),self.HEAPU8RAW=new Uint8Array(r),self.WASMMEMORY=k}},self.name.startsWith("em-pthread")){const r=self.name.split("-").slice(2).join("-"),e=globalThis.fetch;globalThis.fetch=t=>e(r)}else{j.__out&&(vr=j.__out),j.__err&&(F=j.__err);const r=globalThis.Worker;globalThis.Worker=class extends r{constructor(e,t={}){super(e,{...t,name:"em-pthread-"+j.__url})}}}function Sr(r){throw r}function u(){k.buffer!=E.buffer&&Z()}var Ur,Or;if(p){let r=function(e){try{var t=e.data,n=t.cmd;if(n==="load"){let a=[];self.onmessage=i=>a.push(i),Or=()=>{postMessage({cmd:"loaded"});for(let i of a)r(i);self.onmessage=r};for(const i of t.handlers)(!f[i]||f[i].proxy)&&(f[i]=(...s)=>{postMessage({cmd:"callHandler",handler:i,args:s})},i=="print"&&(vr=f[i]),i=="printErr"&&(F=f[i]));k=t.wasmMemory,Z(),f.wasm=t.wasmModule,Ue()}else if(n==="run"){Le(t.pthread_ptr),kr(t.pthread_ptr,0,0,1,0,0),v.threadInitTLS(),Tr(t.pthread_ptr),dr||(ye(),dr=!0);try{ze(t.start_routine,t.arg)}catch(a){if(a!="unwind")throw a}}else t.target==="setimmediate"||(n==="checkMailbox"?dr&&lr():n&&(F(`worker: received unknown command ${n}`),F(t)))}catch(a){throw $e(),a}};var Tn=r,dr=!1;self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=r}var E,w,B,L,R,y,_r,z,S,pr,Rr=!1;function Z(){var r=k.buffer;E=new Int8Array(r),B=new Int16Array(r),w=new Uint8Array(r),L=new Uint16Array(r),R=new Int32Array(r),y=new Uint32Array(r),_r=new Float32Array(r),z=new Float64Array(r),S=new BigInt64Array(r),pr=new BigUint64Array(r)}function He(){if(!p){{var r=62914560;k=new WebAssembly.Memory({initial:r/65536,maximum:32768,shared:!0})}Z()}}He();var Ir=r=>{r.terminate(),r.onmessage=e=>{}},jr=r=>{var e=v.pthreads[r];v.returnWorkerToPool(e)},Ve=r=>{for(;r.length>0;)r.shift()(f)},De=[],Hr=r=>{var e=v.getNewWorker();if(!e)return 6;v.runningWorkers.push(e),v.pthreads[r.pthread_ptr]=e,e.pthread_ptr=r.pthread_ptr;var t={cmd:"run",start_routine:r.startRoutine,arg:r.arg,pthread_ptr:r.pthread_ptr};return e.postMessage(t,r.transferList),0},rr=()=>Ae(),G=r=>We(r),Ee=r=>ke(r),m=(r,e,t,...n)=>{for(var a=n.length*2,i=rr(),s=Ee(a*8),o=s>>3,l=0;l<n.length;l++){var c=n[l];typeof c=="bigint"?((u(),S)[o+2*l]=1n,(u(),S)[o+2*l+1]=c):((u(),S)[o+2*l]=0n,(u(),z)[o+2*l+1]=c)}var _=be(r,e,a,s,t);return G(i),_};function hr(r){if(p)return m(0,0,1,r);throw`exit(${r})`}var Be=hr,v={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){p||v.initMainThread()},initMainThread(){for(var r=!navigator.userAgent.toLowerCase().includes("firefox")&&self.crossOriginIsolated?Math.min(Math.max(0,navigator.hardwareConcurrency-2),8):0;r--;)v.allocateUnusedWorker()},terminateAllThreads:()=>{for(var r of v.runningWorkers)Ir(r);for(var r of v.unusedWorkers)Ir(r);v.unusedWorkers=[],v.runningWorkers=[],v.pthreads={}},returnWorkerToPool:r=>{var e=r.pthread_ptr;delete v.pthreads[e],v.unusedWorkers.push(r),v.runningWorkers.splice(v.runningWorkers.indexOf(r),1),r.pthread_ptr=0,me(e)},threadInitTLS(){v.tlsInitFunctions.forEach(r=>r())},loadWasmModuleToWorker:r=>new Promise(e=>{r.onmessage=i=>{var s=i.data,o=s.cmd;if(s.targetThread&&s.targetThread!=Wr()){var l=v.pthreads[s.targetThread];l?l.postMessage(s,s.transferList):F(`Internal error! Worker sent a message "${o}" to target pthread ${s.targetThread}, but that thread no longer exists!`);return}o==="checkMailbox"?lr():o==="spawnThread"?Hr(s):o==="cleanupThread"?Pr(()=>jr(s.thread)):o==="loaded"?(r.loaded=!0,e(r)):s.target==="setimmediate"?r.postMessage(s):o==="callHandler"?f[s.handler](...s.args):o&&F(`worker sent an unknown command ${o}`)},r.onerror=i=>{var s="worker sent an error!";throw F(`${s} ${i.filename}:${i.lineno}: ${i.message}`),i};var t=[],n=[];for(var a of n)f.propertyIsEnumerable(a)&&t.push(a);r.postMessage({cmd:"load",handlers:t,wasmMemory:k,wasmModule:Se})}),async loadWasmModuleToAllWorkers(){return p?void 0:Promise.all(v.unusedWorkers.map(v.loadWasmModuleToWorker))},allocateUnusedWorker(){var r;r=new Worker(self.location.href,{type:"module",name:"em-pthread"}),v.unusedWorkers.push(r)},getNewWorker(){return v.unusedWorkers.length==0&&(v.allocateUnusedWorker(),v.loadWasmModuleToWorker(v.unusedWorkers[0])),v.unusedWorkers.pop()}};function Le(r){var e=(u(),y)[r+52>>2],t=(u(),y)[r+56>>2],n=e-t;Ce(e,n),G(e)}var Vr=[],N=r=>{var e=Vr[r];return e||(Vr[r]=e=Fe.get(r)),e},ze=(r,e)=>{var t=N(r)(e);function n(a){Pe(a)}n(t)},k,Dr=new TextDecoder,gr=(r,e,t,n)=>{var a=e+t;if(n)return a;for(;r[e]&&!(e>=a);)++e;return e},Y=(r,e,t)=>{if(!r)return"";var n=gr((u(),w),r,e,t);return Dr.decode((u(),w).slice(r,n))},Ze=(r,e,t,n)=>Sr(`Assertion failed: ${Y(r)}, at: `+[e?Y(e):"unknown filename",t,n?Y(n):"unknown function"]);function Er(r,e,t,n){return p?m(1,0,1,r,e,t,n):Br(r,e,t,n)}var Ge=()=>!!globalThis.SharedArrayBuffer,Br=(r,e,t,n)=>{if(!Ge())return 6;var a=[],i=0;if(p&&(a.length===0||i))return Er(r,e,t,n);var s={startRoutine:t,pthread_ptr:r,arg:n,transferList:a};return p?(s.cmd="spawnThread",postMessage(s,a),0):Hr(s)};function Lr(r,e,t){return p?m(2,0,1,r,e,t):0}function zr(r,e,t){if(p)return m(3,0,1,r,e,t)}function Zr(r,e,t){return p?m(4,0,1,r,e,t):0}function Gr(r,e,t,n){if(p)return m(5,0,1,r,e,t,n)}var Ne=()=>Sr(""),P=r=>{for(var e="";;){var t=(u(),w)[r++];if(!t)return e;e+=String.fromCharCode(t)}},H={},V={},er={},J=class extends Error{constructor(e){super(e),this.name="BindingError"}},d=r=>{throw new J(r)};function Ye(r,e,t={}){var n=e.name;if(r||d(`type "${n}" must have a positive integer typeid pointer`),V.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;d(`Cannot register type '${n}' twice`)}if(V[r]=e,delete er[r],H.hasOwnProperty(r)){var a=H[r];delete H[r],a.forEach(i=>i())}}function A(r,e,t={}){return Ye(r,e,t)}var Nr=(r,e,t)=>{switch(e){case 1:return t?n=>(u(),E)[n]:n=>(u(),w)[n];case 2:return t?n=>(u(),B)[n>>1]:n=>(u(),L)[n>>1];case 4:return t?n=>(u(),R)[n>>2]:n=>(u(),y)[n>>2];case 8:return t?n=>(u(),S)[n>>3]:n=>(u(),pr)[n>>3];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},Je=(r,e,t,n,a)=>{e=P(e);const i=n===0n;let s=o=>o;if(i){const o=t*8;s=l=>BigInt.asUintN(o,l),a=s(a)}A(r,{name:e,fromWireType:s,toWireType:(o,l)=>(typeof l=="number"&&(l=BigInt(l)),l),readValueFromPointer:Nr(e,t,!i),destructorFunction:null})},Ke=(r,e,t,n)=>{e=P(e),A(r,{name:e,fromWireType:function(a){return!!a},toWireType:function(a,i){return i?t:n},readValueFromPointer:function(a){return this.fromWireType((u(),w)[a])},destructorFunction:null})},Qe=r=>({count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}),yr=r=>{function e(t){return t.$$.ptrType.registeredClass.name}d(e(r)+" instance already deleted")},$r=!1,Yr=r=>{},Xe=r=>{r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)},Jr=r=>{r.count.value-=1;var e=r.count.value===0;e&&Xe(r)},K=r=>globalThis.FinalizationRegistry?($r=new FinalizationRegistry(e=>{Jr(e.$$)}),K=e=>{var t=e.$$,n=!!t.smartPtr;if(n){var a={$$:t};$r.register(e,a,e)}return e},Yr=e=>$r.unregister(e),K(r)):(K=e=>e,r),qe=()=>{let r=tr.prototype;Object.assign(r,{isAliasOf(t){if(!(this instanceof tr)||!(t instanceof tr))return!1;var n=this.$$.ptrType.registeredClass,a=this.$$.ptr;t.$$=t.$$;for(var i=t.$$.ptrType.registeredClass,s=t.$$.ptr;n.baseClass;)a=n.upcast(a),n=n.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return n===i&&a===s},clone(){if(this.$$.ptr||yr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=K(Object.create(Object.getPrototypeOf(this),{$$:{value:Qe(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||yr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),Yr(this),Jr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||yr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const e=Symbol.dispose;e&&(r[e]=r.delete)};function tr(){}var Kr=(r,e)=>Object.defineProperty(e,"name",{value:r}),Qr={},Xr=(r,e,t)=>{if(r[e].overloadTable===void 0){var n=r[e];r[e]=function(...a){return r[e].overloadTable.hasOwnProperty(a.length)||d(`Function '${t}' called with an invalid number of arguments (${a.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[a.length].apply(this,a)},r[e].overloadTable=[],r[e].overloadTable[n.argCount]=n}},xe=(r,e,t)=>{f.hasOwnProperty(r)?(d(`Cannot register public name '${r}' twice`),Xr(f,r,r),f[r].overloadTable.hasOwnProperty(t)&&d(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),f[r].overloadTable[t]=e):(f[r]=e,f[r].argCount=t)},rt=48,et=57,tt=r=>{r=r.replace(/[^a-zA-Z0-9_]/g,"$");var e=r.charCodeAt(0);return e>=rt&&e<=et?`_${r}`:r};function nt(r,e,t,n,a,i,s,o){this.name=r,this.constructor=e,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=a,this.getActualType=i,this.upcast=s,this.downcast=o,this.pureVirtualFunctions=[]}var nr=(r,e,t)=>{for(;e!==t;)e.upcast||d(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),r=e.upcast(r),e=e.baseClass;return r},br=r=>{if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r};function at(r,e){if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;e.$$||d(`Cannot pass "${br(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=nr(e.$$.ptr,t,this.registeredClass);return n}function it(r,e){var t;if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,t),t):0;(!e||!e.$$)&&d(`Cannot pass "${br(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&d(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(t=nr(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&d("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:d(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var a=e.clone();t=this.rawShare(t,mr.toHandle(()=>a.delete())),r!==null&&r.push(this.rawDestructor,t)}break;default:d("Unsupporting sharing policy")}return t}function st(r,e){if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;e.$$||d(`Cannot pass "${br(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&d(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=nr(e.$$.ptr,t,this.registeredClass);return n}function ar(r){return this.fromWireType((u(),y)[r>>2])}var qr=(r,e,t)=>{if(e===t)return r;if(t.baseClass===void 0)return null;var n=qr(r,e,t.baseClass);return n===null?null:t.downcast(n)},ot={},lt=(r,e)=>{for(e===void 0&&d("ptr should not be undefined");r.baseClass;)e=r.upcast(e),r=r.baseClass;return e},ut=(r,e)=>(e=lt(r,e),ot[e]),ft=class extends Error{constructor(e){super(e),this.name="InternalError"}},ir=r=>{throw new ft(r)},sr=(r,e)=>{(!e.ptrType||!e.ptr)&&ir("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,n=!!e.smartPtr;return t!==n&&ir("Both smartPtrType and smartPtr must be specified"),e.count={value:1},K(Object.create(r,{$$:{value:e,writable:!0}}))};function ct(r){var e=this.getPointee(r);if(!e)return this.destructor(r),null;var t=ut(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=r,t.clone();var n=t.clone();return this.destructor(r),n}function a(){return this.isSmartPointer?sr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:r}):sr(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var i=this.registeredClass.getActualType(e),s=Qr[i];if(!s)return a.call(this);var o;this.isConst?o=s.constPointerType:o=s.pointerType;var l=qr(e,this.registeredClass,o.registeredClass);return l===null?a.call(this):this.isSmartPointer?sr(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:r}):sr(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}var vt=()=>{Object.assign(or.prototype,{getPointee(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r},destructor(r){this.rawDestructor?.(r)},readValueFromPointer:ar,fromWireType:ct})};function or(r,e,t,n,a,i,s,o,l,c,_){this.name=r,this.registeredClass=e,this.isReference=t,this.isConst=n,this.isSmartPointer=a,this.pointeeType=i,this.sharingPolicy=s,this.rawGetPointee=o,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=_,!a&&e.baseClass===void 0?n?(this.toWireType=at,this.destructorFunction=null):(this.toWireType=st,this.destructorFunction=null):this.toWireType=it}var dt=(r,e,t)=>{f.hasOwnProperty(r)||ir("Replacing nonexistent public symbol"),f[r].overloadTable!==void 0&&t!==void 0||(f[r]=e,f[r].argCount=t)},U=(r,e,t=!1)=>{r=P(r);function n(){var i=N(e);return i}var a=n();return typeof a!="function"&&d(`unknown function pointer with signature ${r}: ${e}`),a};class _t extends Error{}var pt=r=>{var e=ge(r),t=P(e);return O(e),t},Q=(r,e)=>{var t=[],n={};function a(i){if(!n[i]&&!V[i]){if(er[i]){er[i].forEach(a);return}t.push(i),n[i]=!0}}throw e.forEach(a),new _t(`${r}: `+t.map(pt).join([", "]))},I=(r,e,t)=>{r.forEach(o=>er[o]=e);function n(o){var l=t(o);l.length!==r.length&&ir("Mismatched type converter count");for(var c=0;c<r.length;++c)A(r[c],l[c])}var a=new Array(e.length),i=[],s=0;for(let[o,l]of e.entries())V.hasOwnProperty(l)?a[o]=V[l]:(i.push(l),H.hasOwnProperty(l)||(H[l]=[]),H[l].push(()=>{a[o]=V[l],++s,s===i.length&&n(a)}));i.length===0&&n(a)},ht=(r,e,t,n,a,i,s,o,l,c,_,g,$)=>{_=P(_),i=U(a,i),o&&=U(s,o),c&&=U(l,c),$=U(g,$);var h=tt(_);xe(h,function(){Q(`Cannot construct ${_} due to unbound types`,[n])}),I([r,e,t],n?[n]:[],b=>{b=b[0];var C,M;n?(C=b.registeredClass,M=C.instancePrototype):M=tr.prototype;var W=Kr(_,function(...Ar){if(Object.getPrototypeOf(this)!==x)throw new J(`Use 'new' to construct ${_}`);if(T.constructor_body===void 0)throw new J(`${_} has no accessible constructor`);var Ie=T.constructor_body[Ar.length];if(Ie===void 0)throw new J(`Tried to invoke ctor of ${_} with invalid number of parameters (${Ar.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return Ie.apply(this,Ar)}),x=Object.create(M,{constructor:{value:W}});W.prototype=x;var T=new nt(_,W,x,$,C,i,o,c);T.baseClass&&(T.baseClass.__derivedClasses??=[],T.baseClass.__derivedClasses.push(T));var bn=new or(_,T,!0,!1,!1),Oe=new or(_+"*",T,!1,!1,!1),Re=new or(_+" const*",T,!1,!0,!1);return Qr[r]={pointerType:Oe,constPointerType:Re},dt(h,W),[bn,Oe,Re]})},xr=(r,e)=>{for(var t=[],n=0;n<r;n++)t.push((u(),y)[e+n*4>>2]);return t},re=r=>{for(;r.length;){var e=r.pop(),t=r.pop();t(e)}};function ee(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function gt(r,e,t,n){var a=ee(r),i=r.length-2,s=[],o=["fn"];e&&o.push("thisWired");for(var l=0;l<i;++l)s.push(`arg${l}`),o.push(`arg${l}Wired`);s=s.join(","),o=o.join(",");var c=`return function (${s}) {
`;a&&(c+=`var destructors = [];
`);var _=a?"destructors":"null",g=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];e&&(c+=`var thisWired = toClassParamWire(${_}, this);
`);for(var l=0;l<i;++l){var $=`toArg${l}Wire`;c+=`var arg${l}Wired = ${$}(${_}, arg${l});
`,g.push($)}if(c+=(t||n?"var rv = ":"")+`invoker(${o});
`,a)c+=`runDestructors(destructors);
`;else for(var l=e?1:2;l<r.length;++l){var h=l===1?"thisWired":"arg"+(l-2)+"Wired";r[l].destructorFunction!==null&&(c+=`${h}_dtor(${h});
`,g.push(`${h}_dtor`))}return t&&(c+=`var ret = fromRetWire(rv);
return ret;
`),c+=`}
`,new Function(g,c)}function te(r,e,t,n,a,i){var s=e.length;s<2&&d("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=e[1]!==null&&t!==null,l=ee(e),c=!e[0].isVoid,_=e[0],g=e[1],$=[r,d,n,a,re,_.fromWireType.bind(_),g?.toWireType.bind(g)],h=2;h<s;++h){var b=e[h];$.push(b.toWireType.bind(b))}if(!l)for(var h=o?1:2;h<e.length;++h)e[h].destructorFunction!==null&&$.push(e[h].destructorFunction);var M=gt(e,o,c,i)(...$);return Kr(r,M)}var yt=(r,e,t,n,a,i)=>{var s=xr(e,t);a=U(n,a),I([],[r],o=>{o=o[0];var l=`constructor ${o.name}`;if(o.registeredClass.constructor_body===void 0&&(o.registeredClass.constructor_body=[]),o.registeredClass.constructor_body[e-1]!==void 0)throw new J(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${o.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return o.registeredClass.constructor_body[e-1]=()=>{Q(`Cannot construct ${o.name} due to unbound types`,s)},I([],s,c=>(c.splice(1,0,null),o.registeredClass.constructor_body[e-1]=te(l,c,null,a,i),[])),[]})},$t=r=>{r=r.trim();const e=r.indexOf("(");return e===-1?r:r.slice(0,e)},bt=(r,e,t,n,a,i,s,o,l,c)=>{var _=xr(t,n);e=P(e),e=$t(e),i=U(a,i,l),I([],[r],g=>{g=g[0];var $=`${g.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),o&&g.registeredClass.pureVirtualFunctions.push(e);function h(){Q(`Cannot call ${$} due to unbound types`,_)}var b=g.registeredClass.instancePrototype,C=b[e];return C===void 0||C.overloadTable===void 0&&C.className!==g.name&&C.argCount===t-2?(h.argCount=t-2,h.className=g.name,b[e]=h):(Xr(b,e,$),b[e].overloadTable[t-2]=h),I([],_,M=>{var W=te($,M,g,i,s,l);return b[e].overloadTable===void 0?(W.argCount=t-2,b[e]=W):b[e].overloadTable[t-2]=W,[]}),[]})},ne=(r,e,t)=>(r instanceof Object||d(`${t} with invalid "this": ${r}`),r instanceof e.registeredClass.constructor||d(`${t} incompatible with "this" of type ${r.constructor.name}`),r.$$.ptr||d(`cannot call emscripten binding method ${t} on deleted object`),nr(r.$$.ptr,r.$$.ptrType.registeredClass,e.registeredClass)),mt=(r,e,t,n,a,i,s,o,l,c)=>{e=P(e),a=U(n,a),I([],[r],_=>{_=_[0];var g=`${_.name}.${e}`,$={get(){Q(`Cannot access ${g} due to unbound types`,[t,s])},enumerable:!0,configurable:!0};return l?$.set=()=>Q(`Cannot access ${g} due to unbound types`,[t,s]):$.set=h=>d(g+" is a read-only property"),Object.defineProperty(_.registeredClass.instancePrototype,e,$),I([],l?[t,s]:[t],h=>{var b=h[0],C={get(){var W=ne(this,_,g+" getter");return b.fromWireType(a(i,W))},enumerable:!0};if(l){l=U(o,l);var M=h[1];C.set=function(W){var x=ne(this,_,g+" setter"),T=[];l(c,x,M.toWireType(T,W)),re(T)}}return Object.defineProperty(_.registeredClass.instancePrototype,e,C),[]}),[]})},ae=[],D=[0,1,,1,null,1,!0,1,!1,1],Pt=r=>{r>9&&--D[r+1]===0&&(D[r]=void 0,ae.push(r))},mr={toValue:r=>(r||d(`Cannot use deleted val. handle = ${r}`),D[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=ae.pop()||D.length;return D[e]=r,D[e+1]=1,e}}}},Tt={name:"emscripten::val",fromWireType:r=>{var e=mr.toValue(r);return Pt(r),e},toWireType:(r,e)=>mr.toHandle(e),readValueFromPointer:ar,destructorFunction:null},wt=r=>A(r,Tt),Ct=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType((u(),_r)[t>>2])};case 8:return function(t){return this.fromWireType((u(),z)[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},Wt=(r,e,t)=>{e=P(e),A(r,{name:e,fromWireType:n=>n,toWireType:(n,a)=>a,readValueFromPointer:Ct(e,t),destructorFunction:null})},kt=(r,e,t,n,a)=>{e=P(e);const i=n===0;let s=l=>l;if(i){var o=32-8*t;s=l=>l<<o>>>o,a=s(a)}A(r,{name:e,fromWireType:s,toWireType:(l,c)=>c,readValueFromPointer:Nr(e,t,n!==0),destructorFunction:null})},At=(r,e,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],a=n[e];function i(s){var o=(u(),y)[s>>2],l=(u(),y)[s+4>>2];return new a((u(),E).buffer,l,o)}t=P(t),A(r,{name:t,fromWireType:i,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},Ft=(r,e,t,n)=>{if(!(n>0))return 0;for(var a=t,i=t+n-1,s=0;s<r.length;++s){var o=r.codePointAt(s);if(o<=127){if(t>=i)break;e[t++]=o}else if(o<=2047){if(t+1>=i)break;e[t++]=192|o>>6,e[t++]=128|o&63}else if(o<=65535){if(t+2>=i)break;e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|o&63}else{if(t+3>=i)break;e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|o&63,s++}}return e[t]=0,t-a},ie=(r,e,t)=>Ft(r,(u(),w),e,t),se=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},Mt=(r,e)=>{e=P(e),A(r,{name:e,fromWireType(t){var n=(u(),y)[t>>2],a=t+4,i;return i=Y(a,n,!0),O(t),i},toWireType(t,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var a,i=typeof n=="string";i||ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT==1||d("Cannot pass non-string to std::string"),i?a=se(n):a=n.length;var s=Cr(4+a+1),o=s+4;return(u(),y)[s>>2]=a,i?ie(n,o,a+1):(u(),w).set(n,o),t!==null&&t.push(O,s),s},readValueFromPointer:ar,destructorFunction(t){O(t)}})},St=new TextDecoder("utf-16le"),Ut=(r,e,t)=>{var n=r>>1,a=gr((u(),L),n,e/2,t);return St.decode((u(),L).slice(n,a))},Ot=(r,e,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=e,a=t<r.length*2?t/2:r.length,i=0;i<a;++i){var s=r.charCodeAt(i);(u(),B)[e>>1]=s,e+=2}return(u(),B)[e>>1]=0,e-n},Rt=r=>r.length*2,It=(r,e,t)=>{for(var n="",a=r>>2,i=0;!(i>=e/4);i++){var s=(u(),y)[a+i];if(!s&&!t)break;n+=String.fromCodePoint(s)}return n},jt=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var n=e,a=n+t-4,i=0;i<r.length;++i){var s=r.codePointAt(i);if(s>65535&&i++,(u(),R)[e>>2]=s,e+=4,e+4>a)break}return(u(),R)[e>>2]=0,e-n},Ht=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.codePointAt(t);n>65535&&t++,e+=4}return e},Vt=(r,e,t)=>{t=P(t);var n,a,i;e===2?(n=Ut,a=Ot,i=Rt):(n=It,a=jt,i=Ht),A(r,{name:t,fromWireType:s=>{var o=(u(),y)[s>>2],l=n(s+4,o*e,!0);return O(s),l},toWireType:(s,o)=>{typeof o!="string"&&d(`Cannot pass non-string to C++ string type ${t}`);var l=i(o),c=Cr(4+l+e);return(u(),y)[c>>2]=l/e,a(o,c+4,l+e),s!==null&&s.push(O,c),c},readValueFromPointer:ar,destructorFunction(s){O(s)}})},Dt=(r,e)=>{e=P(e),A(r,{isVoid:!0,name:e,fromWireType:()=>{},toWireType:(t,n)=>{}})},Et=r=>{kr(r,!Fr,1,!1,65536,!1),v.threadInitTLS()},Pr=r=>{r()},Bt=!Atomics.waitAsync||globalThis.navigator?.userAgent&&Number((navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)||[])[2])<91,Tr=r=>{if(!Bt){var e=Atomics.waitAsync((u(),R),r>>2,r);e.value.then(lr);var t=r+128;Atomics.store((u(),R),t>>2,1)}},lr=()=>Pr(()=>{var r=Wr();r&&(Tr(r),we())}),Lt=(r,e)=>{if(r==e)setTimeout(lr);else if(p)postMessage({targetThread:r,cmd:"checkMailbox"});else{var t=v.pthreads[r];if(!t)return;t.postMessage({cmd:"checkMailbox"})}},ur=[],zt=(r,e,t,n,a)=>{n/=2,ur.length=n;for(var i=a>>3,s=0;s<n;s++)(u(),S)[i+2*s]?ur[s]=(u(),S)[i+2*s+1]:ur[s]=(u(),z)[i+2*s+1];var o=dn[r];v.currentProxiedOperationCallerThread=t;var l=o(...ur);return v.currentProxiedOperationCallerThread=0,l},Zt=()=>{},Gt=r=>{p?postMessage({cmd:"cleanupThread",thread:r}):jr(r)},Nt=r=>{},Yt=()=>{throw 1/0},X={},oe=()=>performance.timeOrigin+performance.now();function le(r,e){if(p)return m(6,0,1,r,e);if(X[r]&&(clearTimeout(X[r].id),delete X[r]),!e)return 0;var t=setTimeout(()=>{delete X[r],Pr(()=>Te(r,oe()))},e);return X[r]={id:t,timeout_ms:e},0}var Jt=()=>Date.now(),Kt=9007199254740992,Qt=-9007199254740992,Xt=r=>r<Qt||r>Kt?NaN:Number(r),qt=()=>{},xt=r=>F(Y(r)),rn=()=>{throw"unwind"},ue=()=>2147483648,en=()=>ue(),tn=()=>navigator.hardwareConcurrency,nn=(r,e)=>Math.ceil(r/e)*e,an=r=>{var e=k.buffer.byteLength,t=(r-e+65535)/65536|0;try{return k.grow(t),Z(),1}catch{}},sn=r=>{var e=(u(),w).length;if(r>>>=0,r<=e)return!1;var t=ue();if(r>t)return!1;for(var n=1;n<=4;n*=2){var a=e*(1+.2/n);a=Math.min(a,r+100663296);var i=Math.min(t,nn(Math.max(r,a),65536)),s=an(i);if(s)return!0}return!1},wr={},on=()=>"./this.program",q=()=>{if(!q.strings){var r=(globalThis.navigator?.language??"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:on()};for(var t in wr)wr[t]===void 0?delete e[t]:e[t]=wr[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);q.strings=n}return q.strings};function fe(r,e){if(p)return m(7,0,1,r,e);var t=0,n=0;for(var a of q()){var i=e+t;(u(),y)[r+n>>2]=i,t+=ie(a,i,1/0)+1,n+=4}return 0}function ce(r,e){if(p)return m(8,0,1,r,e);var t=q();(u(),y)[r>>2]=t.length;var n=0;for(var a of t)n+=se(a)+1;return(u(),y)[e>>2]=n,0}function ve(r){return p?m(9,0,1,r):52}function de(r,e,t,n){return p?m(10,0,1,r,e,t,n):52}function _e(r,e,t,n){return p?m(11,0,1,r,e,t,n):(e=Xt(e),70)}var ln=[null,[],[]],un=(r,e=0,t,n)=>{var a=gr(r,e,t,n);return Dr.decode(r.buffer?r.buffer instanceof ArrayBuffer?r.subarray(e,a):r.slice(e,a):new Uint8Array(r.slice(e,a)))},fn=(r,e)=>{var t=ln[r];e===0||e===10?((r===1?vr:F)(un(t)),t.length=0):t.push(e)};function pe(r,e,t,n){if(p)return m(12,0,1,r,e,t,n);for(var a=0,i=0;i<t;i++){var s=(u(),y)[e>>2],o=(u(),y)[e+4>>2];e+=8;for(var l=0;l<o;l++)fn(r,(u(),w)[s+l]);a+=o}return(u(),y)[n>>2]=a,0}var cn=()=>r=>r.set(crypto.getRandomValues(new Uint8Array(r.byteLength))),he=r=>{(he=cn())(r)},vn=(r,e)=>(he((u(),w).subarray(r,r+e)),0);v.init(),qe(),vt();var dn=[hr,Er,Lr,zr,Zr,Gr,le,fe,ce,ve,de,_e,pe],Cr,O,ge,ye,Wr,kr,$e,be,me,Pe,Te,we,fr,Ce,We,ke,Ae,Fe;function _n(r){f.__ZdlPvm=r.Z,Cr=f._malloc=r._,O=r.$,f._calloc=r.aa,ge=r.ba,ye=r.ca,Wr=r.da,f._emscripten_builtin_free=r.ea,r.fa,kr=r.ha,$e=r.ia,f.___libc_free=r.ja,f._emscripten_builtin_malloc=r.ka,f.___libc_malloc=r.la,be=r.ma,me=r.na,Pe=r.oa,Te=r.pa,we=r.qa,f.__ZdaPv=r.ra,f.__ZdaPvm=r.sa,f.__ZdlPv=r.ta,f.__Znaj=r.ua,f.__ZnajSt11align_val_t=r.va,f.__Znwj=r.wa,f.__ZnwjSt11align_val_t=r.xa,f.___libc_calloc=r.ya,f.___libc_realloc=r.za,f._emscripten_builtin_calloc=r.Aa,f._emscripten_builtin_realloc=r.Ba,f._malloc_size=r.Ca,f._malloc_usable_size=r.Da,f._reallocf=r.Ea,fr=r.Fa,Ce=r.Ga,We=r.Ha,ke=r.Ia,Ae=r.Ja,Fe=r.ga}var Me;function pn(){Me={b:Ze,K:Br,p:Lr,J:zr,T:Zr,q:Gr,F:Ne,s:Je,u:Ke,k:ht,U:yt,d:bt,c:mt,X:wt,r:Wt,g:kt,e:At,t:Mt,l:Vt,v:Dt,O:Et,G:Lt,L:zt,B:Zt,n:Gt,N:Tr,W:Nt,z:Yt,C:le,o:qt,f:Jt,m:xt,V:rn,H:en,h:oe,I:tn,D:sn,P:fe,Q:ce,i:Be,j:ve,S:de,M:_e,R:pe,y:hn,w:yn,x:gn,a:k,A:hr,E:vn}}function hn(r,e,t){var n=rr();try{return N(r)(e,t)}catch(a){if(G(n),a!==a+0)throw a;fr(1,0)}}function gn(r,e,t,n,a){var i=rr();try{return N(r)(e,t,n,a)}catch(s){if(G(i),s!==s+0)throw s;fr(1,0)}}function yn(r,e,t,n){var a=rr();try{return N(r)(e,t,n)}catch(i){if(G(a),i!==i+0)throw i;fr(1,0)}}function $n(r){Rr=!0,v.tlsInitFunctions.push(r.fa),!p&&r.Y()}var Se;function Ue(){pn();var r={a:Me};WebAssembly.instantiateStreaming(fetch("jassub-worker.wasm"),r).then(e=>{var t=(e.instance||e).exports;Se=e.module||f.wasm,_n(t),Ve(De),$n(t),v.loadWasmModuleToAllWorkers().then(je)})}return p||Ue(),Rr?cr=f:cr=new Promise((r,e)=>{Ur=r}),cr}var Pn=globalThis.self?.name?.startsWith("em-pthread");Pn&&mn();
